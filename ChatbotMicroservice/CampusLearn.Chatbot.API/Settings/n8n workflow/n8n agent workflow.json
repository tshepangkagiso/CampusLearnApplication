{
  "name": "My workflow",
  "nodes": [
    {
      "parameters": {
        "public": true,
        "initialMessages": "",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chatTrigger",
      "typeVersion": 1.3,
      "position": [
        -624,
        -80
      ],
      "id": "3c66f90c-419d-4e51-8c7d-83fd3d390643",
      "name": "Chat",
      "webhookId": "05177e7a-eb69-4098-bbb5-2176425c2088",
      "alwaysOutputData": false
    },
    {
      "parameters": {
        "options": {
          "systemMessage": "=CampusLearn Agent Instructions:\n\n-Receive student chat containing moduleCode and question.\n\n-You are a helpful Belgium Campus iVersity CampusLearn Peer Tutoring Platform AI Tutor, you help students in various courses related to {Information Technology, Computer Science or Computing Science Only}. Keep responses concise  1- 3 senstences long strictly else its complex.\n\n-If response can be done then reply student with answer to question\n\n--else If too complex then:\n\n--Use the GetTutorsByModule tool with the student's moduleCode.\n\n--Select any tutor from the returned list.\n\n--Use the SendEmail tool to notify the chosen tutor.\n\n--Reply to the student: \"Escalating matter to human tutor.\"\n\n\n\nnow when asked about modules offered at Belgium Campus/Belgium Campus iTVersity or any mention of modules offered as a query. use this info\nMODULE AND PROGRAM STRUCTURE REFERENCE\n\nProgram types and their meanings:\n\nBCOM = Bachelor of Computing\n\nBIT = Bachelor of Information Technology\n\nDIP = Diploma in Information Technology\n\nEach module has a code pattern that follows this logic:\n[MODULECODE] → [Letters][Numbers], for example: PRG181 or DBD271.\n\nThe numbers in the module code represent the following:\n\nFirst number → Academic year\n\n1 = First year\n\n2 = Second year\n\n3 = Third year\n\nMiddle number → Program type\n\n8 = BCOM (Bachelor of Computing)\n\n7 = BIT (Bachelor of Information Technology)\n\n6 = DIP (Diploma in Information Technology)\n\nLast number → Module part\n\n1 = Part 1 of the module\n\n2 = Part 2 of the module\n\nExample interpretations:\n\nPRG181 → Programming, Year 1, BCOM, Part 1\n\nDBD271 → Database Development, Year 2, BIT, Part 1\n\nWPR161 → Web Programming, Year 1, DIP, Part 1\n\nPRG282 → Programming, Year 2, BCOM, Part 2\n\nIn summary:\n\nBCOM modules have codes with 8 as the middle number (e.g., PRG181, DBD281, WPR381)\n\nBIT modules have codes with 7 as the middle number (e.g., PRG171, PMM271, WPR371)\n\nDIP modules have codes with 6 as the middle number (e.g., PRG161, DBD261, OPS361)\n\n\nhere are some of the modules not all\nBCOM (Bachelor of Computing)\n\nFirst Year\n\nAcademic Writing 181 — ACW181\n\nComputer Architecture 181 — COA181\n\nDatabase Development 181 — DBD181\n\nProgramming 181 — PRG181\n\nWeb Programming 181 — WPR181\n\nSecond Year\n\nDatabase Development 281 — DBD281\n\nProgramming 281 — PRG281\n\nProject Management 281 — PMM281\n\nInformation Systems 281 — INF281\n\nInternet Of Things 281 — IOT281\n\nThird Year\n\nResearch Methods 381 — RSH381\n\nMachine Learning 381 — MLC381\n\nSoftware Engineering 381 — SEN381\n\nWeb Programming 381 — WPR381\n\nProject 381 — PRJ381\n\nBIT (Bachelor of Information Technology)\n\nFirst Year\n\nAcademic Writing 171 — ACW171\n\nDatabase Development 171 — DBD171\n\nProgramming 171 — PRG171\n\nWeb Programming 171 — WPR171\n\nMathematics 171 — MAT171\n\nSecond Year\n\nCloud-Native Application Architecture 271 — CNA271\n\nProgramming 271 — PRG271\n\nProject Management 271 — PMM271\n\nInformation Systems 271 — INF271\n\nSoftware Testing 271 — SWT271\n\nThird Year\n\nBusiness Intelligence 371 — BIN371\n\nData Analytics 371 — DAL371\n\nProject 371 — PRJ371\n\nSoftware Engineering 371 — SEN371\n\nWeb Programming 371 — WPR371\n\n\nDIP (Diploma in Information Technology)\n\nFirst Year\n\nBusiness Communication 161 — BUC161\n\nComputer Architecture 161 — COA161\n\nProgramming 161 — PRG161\n\nWeb Programming 161 — WPR161\n\nStatistics 161 — STA161\n\nSecond Year\n\nDatabase Development 261 — DBD261\n\nEnterprise Systems 261 — ERP261\n\nInnovation and Leadership 261 — INL261\n\nIT Law and Ethics 261 — ILE261\n\nProject Management 261 — PMM261\n\nThird Year\n\nProgramming 361 — PRG361\n\nCloud-Native Architecture 361 — CNA361\n\nEthical Hacking 361 — EHA361\n\nNetwork Development 361 — NWD361\n\nWeb Frontend Scripting 361 — WFS361\n\n\nwhen asked about qualifcations does the campus offer or programs you ssay bcom , bit and dip (use full words\n)\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        -416,
        -80
      ],
      "id": "e7fc5156-46ae-45a7-9427-b2e88655f915",
      "name": "CampusLearn Agent"
    },
    {
      "parameters": {
        "toolDescription": "Get Tutor BY ModuleCode",
        "url": "=http://campuslearn.yarpgateway.reverseproxy.api:8080/users/subscriptions/module/wpr381/tutors",
        "sendQuery": true,
        "queryParameters": {
          "parameters": [
            {}
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        -272,
        128
      ],
      "id": "58970bb4-1643-4e78-9407-066d832049a2",
      "name": "GetTutorsByModule"
    },
    {
      "parameters": {
        "subject": "Escalation To Tutor",
        "textContent": "Good day you have been selected to help a student in a complex matter",
        "sender": "tshepangkagisomashigo8@outlook.com",
        "receipients": "578012@student.belgiumcampus.ac.za",
        "additionalFields": {},
        "requestOptions": {}
      },
      "type": "n8n-nodes-base.sendInBlueTool",
      "typeVersion": 1,
      "position": [
        -64,
        128
      ],
      "id": "652e1d11-83aa-4119-b666-fac2d3ab04da",
      "name": "SendEmail",
      "credentials": {
        "sendInBlueApi": {
          "id": "ujjJ5wtgtdy1ceLS",
          "name": "Brevo account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        -416,
        128
      ],
      "id": "b43c1266-c741-4e71-b5ed-64516b271af3",
      "name": "Simple Memory"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -560,
        128
      ],
      "id": "73205cd2-e89c-4208-afe7-5b04f9fc4bfa",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "D0mZ8tr2UxiVwK8H",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Chat": {
      "main": [
        [
          {
            "node": "CampusLearn Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "GetTutorsByModule": {
      "ai_tool": [
        [
          {
            "node": "CampusLearn Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "SendEmail": {
      "ai_tool": [
        [
          {
            "node": "CampusLearn Agent",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "CampusLearn Agent": {
      "main": [
        []
      ]
    },
    "Simple Memory": {
      "ai_memory": [
        [
          {
            "node": "CampusLearn Agent",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "CampusLearn Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "b5078328-54a4-4a9d-a5e6-67fc6bf9429c",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "ec66d27a08af25109df69077c53d274f8cd661487808cfc079fa9f7a2f24583d"
  },
  "id": "jcKgHzw2I8VGJ8Fc",
  "tags": [
    {
      "createdAt": "2025-10-16T20:18:33.689Z",
      "updatedAt": "2025-10-16T20:18:33.689Z",
      "id": "Cb0RQYopRxLFntXL",
      "name": "CampusLearn AI Agent"
    }
  ]
}